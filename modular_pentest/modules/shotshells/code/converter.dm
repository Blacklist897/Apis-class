/obj/machinery/shotglass_converter
	name = "shotglass converter"
	desc = "A machine that converts shotglasses into shotshells."
	icon = 'modular_pentest/modules/shotshells/sprites/convert.dmi'
	circuit = /obj/item/circuitboard/machine/shotglass_converter
	icon_state = "converter"
	anchored = TRUE
	density = FALSE

/obj/machinery/shotglass_converter/attackby(obj/item/I, mob/living/user)
	if(default_deconstruction_screwdriver(user, "converter_o", "converter", I))
		return
	if(default_deconstruction_crowbar(I))
		return TRUE
	if(I && istype(I, /obj/item/reagent_containers/food/drinks/drinkingglass/shotglass))
		if(!do_after(user, 0.5 SECONDS, src))
			return
		new /obj/item/ammo_casing/shotgun/shotshell(src.loc)
		qdel(I)
		to_chat(user, span_notice("You have converted a shotglass into a shotshell!"))
		return
	if(I && istype(I, /obj/item/ammo_casing/shotgun/shotshell))
		if(!do_after(user, 0.5 SECONDS, src))
			return
		to_chat(user, span_notice("You convert a shotshell to a shotglass."))
		new /obj/item/reagent_containers/food/drinks/drinkingglass/shotglass(src.loc)
		qdel(I)
		return
	. = ..()

/obj/item/circuitboard/machine/shotglass_converter
	name = "Shotglass Converter (Machine Board)"
	icon_state = "generic"
	build_path = /obj/machinery/shotglass_converter
	req_components = list()

/datum/design/board/shotglass_converter
	name = "Machine Design (Shotglass Converter)"
	desc = "The circuit board for a shotglass converter."
	id = "shotglass_converter"
	build_path = /obj/item/circuitboard/machine/shotglass_converter
	departmental_flags = DEPARTMENTAL_FLAG_SERVICE
	category = list ("Misc. Machinery")
