/*
		PEACEKEEPER MODULES
*/

/obj/item/robot_module/science
	name = "Science"
	basic_modules = list(
		/obj/item/assembly/flash/cyborg,
		/obj/item/borg/apparatus/beaker,
		/obj/item/reagent_containers/dropper,
		/obj/item/reagent_containers/syringe,
		/obj/item/borg/cyborg_omnitool/engineering,
		/obj/item/borg/cyborg_omnitool/medical,
		/obj/item/analyzer,
		/obj/item/geiger_counter/cyborg,
		/obj/item/assembly/signaler/cyborg,
		/obj/item/extinguisher,
		/obj/item/pen,
		/obj/item/survey_handheld,
		/obj/item/borg/apparatus/science/,
		)
	//emag_modules = list(/obj/item/reagent_containers/borghypo/peace/hacked)
	cyborg_base_icon = "omoikane"
	moduleselect_icon = "standard"
	can_be_pushed = FALSE
	hat_offset = -2


/*

Removed until more icons are added and selected

/obj/item/robot_module/science/be_transformed_to(obj/item/robot_module/old_module)
	var/mob/living/silicon/robot/R = loc
	var/static/list/sci_icons
	if(!sci_icons)
		sci_icons = list(
		"Default" = image(icon = 'icons/mob/robots.dmi', icon_state = "peace"),
		"Detective" = image(icon = 'icons/mob/robots.dmi', icon_state = "peaceborg-noir"),
		)
		sci_icons = sortList(sci_icons)
	var/sci_borg_icon = show_radial_menu(R, R , sci_icons, custom_check = CALLBACK(src, PROC_REF(check_menu), R), radius = 42, require_near = TRUE)
	switch(sci_borg_icon)
		if("Default")
			cyborg_base_icon = "peace"
		if("Detective")
			cyborg_base_icon = "peaceborg-noir"
			cyborg_icon_override = 'icons/mob/robots.dmi'
			special_light_key = "peace"
		else
			return FALSE
	return ..()
*/

//
// Science Apparatus - robot_items.dm
//

/obj/item/borg/apparatus/science
	name = "science apparatus"
	desc = "A special apparatus for carrying paper, research notes, slime cores, and strange relics and other objects."
	icon = 'modular_pentest/modules/robots/icons/obj/borg_tools.dmi'
	icon_state = "borg_service_apparatus"
	storable = list(
		/obj/item/paper,
		/obj/item/research_notes,
		/obj/item/slime_extract,
		/obj/item/relic,
		/obj/item/assembly/signaler/anomaly
	)

/obj/item/borg/apparatus/science/Initialize(mapload)
	update_appearance()
	return ..()

/obj/item/borg/apparatus/science/update_overlays()
	. = ..()
	var/mutable_appearance/arm = mutable_appearance(icon, "borg_hardware_apparatus_arm1")
	if(stored)
		COMPILE_OVERLAYS(stored)
		stored.pixel_x = -3
		stored.pixel_y = 0
		if((!istype(stored, /obj/item/food)))
			arm.icon_state = "borg_hardware_apparatus_arm2"
		var/mutable_appearance/stored_copy = new /mutable_appearance(stored)
		stored_copy.layer = FLOAT_LAYER
		stored_copy.plane = FLOAT_PLANE
		. += stored_copy
	. += arm

/obj/item/borg/apparatus/science/examine()
	. = ..()
	if(stored)
		. += "The apparatus currently has [stored] secured."
		. += span_notice("<i>Alt-click</i> will drop the currently secured item.")

